@page "/"
@using BlazorApp1.Data
@using BlazorApp1.Models
@using Microsoft.EntityFrameworkCore

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

@foreach (var user in users)
{
    <p>@user.UserName</p>
}


@inject AppDbContext dbContext
@code
{
    List<UserModel> users = new List<UserModel>();

    protected override async Task OnInitializedAsync()
    {
            users = await dbContext.Users.ToListAsync();
    }
}